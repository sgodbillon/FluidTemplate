(function(c){function p(b,a){for(var c in a)a[c]!==void 0&&(b[c]=a[c]);return b}c.utils={escapeHTML:function(b){return(""+b).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace("/&/g","&amp;")},stringify:function(b){if(b===null||b===void 0||typeof b==="number"&&isNaN(b))b={toString:function(){return""}};return b.isRaw?b:c.utils.escapeHTML(b)},raw:function(b){return{isRaw:!0,toString:function(){return b}}},runInsideTemplate:function(b,a){return c.utils.raw(c.run(b,a))}};var h={};c.options={specialChar:"$"}; c.run=function(b,a){return h[b](a)};c.compile=function(b,a,c){a=a||document.getElementById(b).innerHTML;if(!c&&h[b])return h[b];return h[b]=this._compile(a)};c._compile=function(b,a){function h(d,f){for(;f<d.length&&/\s/.test(d.charAt(f));)f++;return f}function l(d,f,b,s){var a=m(d,f+1,"(")+1;g+=b+d.substring(f,a);s&&(g+="{",a=h(d,a+1),a=q(d,a),g+="}");return a}function q(d,f){var a=m(d,f+1,"{");i(f+1,a);return a}function i(d,f){n(o(r(b,d,function(d,a,b,c){n(o(c));if(a.func)return a.func(d,b,f),!0; a.raw&&n(o(a.name))},f)))}function n(d){g+="result += "+d+";\n"}function o(d){return"'"+d.replace(/'/g,"\\'").replace(/\n/g,"\\n")+"'"}function m(d,f,a){var b=1,c=0,e=a==="("?")":"}",g=-1;r(d,f,function(d,f,h){f.name===e&&c++;f.name===a&&b++;if(c===b)return g=h,!0});if(g>-1)return g;throw{message:a+" at index "+f+" is not closed !"};}function r(d,a,b,c){for(var g=!1,h="",i="";a<d.length&&(!c||a<c);){var j=d.charAt(a);if(j==="\\"&&!g)g=!0;else if(g)g=!1,h+=j;else{i+=j;a:{var j=i,k=void 0;for(k in e){if(e[k].name=== j){j=e[k];break a}if(e[k].name.indexOf(j)===0){j="maybe";break a}}j=!1}if(j!=="maybe")if(j.name){if(b(d,j,a,h))return"";h=i=""}else h+=i,i=""}a++}return h}var a=p(p({},c.options),a||{}),g="var raw = window.FluidTmpl.utils.raw; var run = window.FluidTmpl.utils.runInsideTemplate; var compile = window.FluidTmpl.compile;";g+="var result = ''; _ = _ || {};";var e={};e[a.specialChar+"("]={name:a.specialChar+"(",func:function(d,a,b){var c=m(d,a+1,"(");g+="result += window.FluidTmpl.utils.stringify(("+d.substring(a+ 1,c)+"));";i(c+1,b)}};e[a.specialChar+"if("]={name:a.specialChar+"if(",func:function(a,b,c){var b=l(a,b,"if",!0),e=h(a,b+1);a.indexOf("else",e)===e&&(g+="else {",e=h(a,e+4),b=q(a,e),g+="}");i(b+1,c)}};e[a.specialChar+"for("]={name:a.specialChar+"for(",func:function(a,b,c){a=l(a,b,"for",!0);i(a+1,c)}};e[a.specialChar+"while("]={name:a.specialChar+"while(",func:function(a,b,c){a=l(a,b,"while",!0);i(a+1,c)}};e[")"]={name:")",raw:!0};e["("]={name:"(",raw:!0};e["{"]={name:"{",raw:!0};e["}"]={name:"}", raw:!0};i(0);g+="; return result;";return function(a){var b=new Function("_",g);if(a!==void 0&&a!==null){if(a.constructor===Array){for(var c="",e=0;e<a.length;e++)c+=b(a[e]);return c}if(a.constructor===Object)return b(a)}return""}}})(window.FluidTmpl=window.FluidTmpl||{});